{% extends 'base.html' %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<style>
  /* üåü Page-Specific Styling */
  .admin-dashboard {
    max-width: 1100px;
    margin: 50px auto;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    padding: 40px;
  }

  .admin-dashboard h2 {
    color: #122b60;
    font-weight: 700;
    text-align: center;
    margin-bottom: 30px;
  }

  .btn-add {
    background: linear-gradient(135deg, #122b60, #1e3f90);
    color: #fff;
    border-radius: 25px;
    padding: 10px 20px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .btn-add:hover {
    background: linear-gradient(135deg, #1b3c85, #2d58b8);
    transform: translateY(-2px);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    background: #fff;
  }

  thead {
    background: linear-gradient(135deg, #122b60, #294a9e);
    color: white;
  }

  th, td {
    padding: 14px 18px;
    text-align: center;
    vertical-align: middle;
  }

  tbody tr:nth-child(even) {
    background-color: #f8f9fa;
  }

  tbody tr:hover {
    background-color: #f1f3f6;
    transition: background-color 0.3s ease;
  }

  .btn-action {
    border-radius: 25px;
    font-size: 14px;
    padding: 6px 12px;
  }

  .btn-edit {
    background-color: #ffc107;
    color: #000;
  }

  .btn-edit:hover {
    background-color: #e0a800;
  }

  .btn-delete {
    background-color: #dc3545;
    color: #fff;
  }

  .btn-delete:hover {
    background-color: #b02a37;
  }

</style>

<div class="admin-dashboard">
  <h2>üõ†Ô∏è Admin Dashboard</h2>

  <div class="d-flex justify-content-end mb-3">
    <a href="{% url 'add_product' %}" class="btn btn-add">‚ûï Add Product</a>
  </div>

  {% if products %}
  <div class="table-responsive">
    <table class="table table-bordered align-middle">
      <thead>
        <tr>
          <th>S.No</th>
          <th>Product Name</th>
          <th>Category</th>
          <th>Price</th>
          <th>Available</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ product.name }}</td>
          <td>{{ product.category.name }}</td>
          <td>‚Çπ{{ product.price }}</td>
          <td>
            {% if product.available %}
              <span class="badge bg-success">Yes</span>
            {% else %}
              <span class="badge bg-danger">No</span>
            {% endif %}
          </td>
          <td>
            <a href="{% url 'edit_product' product.id %}" class="btn btn-sm btn-edit btn-action">Edit</a>
            <a href="{% url 'delete_product' product.id %}" class="btn btn-sm btn-delete btn-action"
               onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="text-center text-muted mt-4">No products found. Add a new one!</p>
  {% endif %}
</div>
{% endblock %}
